<!DOCTYPE html>
<html>
<head>
    <title>Import Test</title>
</head>
<body>
    <h1>Payment Terms Import Test</h1>
    <input type="file" id="file" accept=".xlsx">
    <button id="btn-test">Test Import</button>
    <pre id="output" style="background: #f0f0f0; padding: 10px; margin-top: 20px;"></pre>

    <script>
    document.getElementById('btn-test').onclick = async () => {
        const file = document.getElementById('file').files[0];
        const output = document.getElementById('output');
        
        if (!file) {
            output.textContent = 'No file selected';
            return;
        }
        
        output.textContent = 'Uploading...';
        
        try {
            const fd = new FormData();
            fd.append('file', file);
            
            const res = await fetch('/admin/payment-terms/import?dry_run=1', {
                method: 'POST',
                body: fd
            });
            
            output.textContent = `Status: ${res.status}\n`;
            output.textContent += `Response: ${await res.text()}`;
            
        } catch (err) {
            output.textContent = `Error: ${err.message}`;
        }
    };
    </script>
</body>
</html>
